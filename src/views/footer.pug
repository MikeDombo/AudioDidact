link(href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M", crossorigin="anonymous")
script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js")
script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous")
script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js", integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1", crossorigin="anonymous")
block afterJqueryLoad
script.
	$(function (){
		$("#uname").keypress(function (e){
			if(e.key === "Enter"){
				login();
			}
		});
		$("#passwd").keypress(function (e){
			if(e.key === "Enter"){
				login();
			}
		});
	});
	function login(){
		$.post("/#{subdir}login", {uname: $("#uname").val(), passwd: $("#passwd").val(), action: "login"},
			function (data){
				if(data.indexOf("Success") > -1){
					location.reload();
				}
				else{
					alert("Could not login with those credentials. Please make sure they are correct.");
				}
			});
	}
	function logout(){
		$.get("/#{subdir}logout", function (data){
			if(data.indexOf("Success") > -1){
				location.reload();
			}
		});
	}
